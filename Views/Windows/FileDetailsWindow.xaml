<ui:FluentWindow
    x:Class="OneDesk.Views.Windows.FileDetailsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="文件详细信息"
    Width="600"
    Height="700"
    ExtendsContentIntoTitleBar="True"
    WindowStartupLocation="CenterOwner">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <ui:TitleBar Title="文件详细信息" Grid.Row="0" Height="32"/>

        <ui:DynamicScrollViewer Grid.Row="1">
            <StackPanel Margin="24,12,24,24">
                <!-- 文件图标和名称 -->
                <Border Background="{DynamicResource ControlFillColorDefaultBrush}"
                        CornerRadius="8" Padding="20" Margin="0,0,0,20">
                    <StackPanel HorizontalAlignment="Center">
                        <ui:SymbolIcon Symbol="Document24" FontSize="48"
                                       Foreground="{DynamicResource AccentTextFillColorPrimaryBrush}"
                                       HorizontalAlignment="Center" Margin="0,0,0,12"/>
                        <ui:TextBox Text="{Binding FileName}" FontSize="18" FontWeight="SemiBold"
                                   TextAlignment="Center" TextWrapping="Wrap" IsTextSelectionEnabled="True" Background="Transparent"/>
                    </StackPanel>
                </Border>

                <!-- 基本信息 -->
                <ui:TextBlock Text="基本信息" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"/>
                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" CornerRadius="4" Padding="12" Margin="0,0,0,20">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,12,8">
                            <ui:TextBlock Text="文件大小" Appearance="Secondary" FontSize="12" Margin="0,0,0,4"/>
                            <ui:TextBox Text="{Binding FileSize}" IsTextSelectionEnabled="True" Background="Transparent"/>
                        </StackPanel>
                        <StackPanel Grid.Row="0" Grid.Column="1" Margin="0,0,0,8">
                            <ui:TextBlock Text="MIME 类型" Appearance="Secondary" FontSize="12" Margin="0,0,0,4"/>
                            <ui:TextBox Text="{Binding MimeType}" IsTextSelectionEnabled="True" Background="Transparent"/>
                        </StackPanel>
                        <StackPanel Grid.Row="1" Grid.Column="0" Margin="0,0,12,8">
                            <ui:TextBlock Text="创建时间" Appearance="Secondary" FontSize="12" Margin="0,0,0,4"/>
                            <ui:TextBox Text="{Binding CreatedTime}" IsTextSelectionEnabled="True" Background="Transparent"/>
                        </StackPanel>
                        <StackPanel Grid.Row="1" Grid.Column="1" Margin="0,0,0,8">
                            <ui:TextBlock Text="修改时间" Appearance="Secondary" FontSize="12" Margin="0,0,0,4"/>
                            <ui:TextBox Text="{Binding ModifiedTime}" IsTextSelectionEnabled="True" Background="Transparent"/>
                        </StackPanel>
                        <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2">
                            <ui:TextBlock Text="QuickXor 哈希" Appearance="Secondary" FontSize="12" Margin="0,0,0,4"/>
                            <ui:TextBox Text="{Binding QuickXorHash}" IsTextSelectionEnabled="True" Background="Transparent" FontFamily="Consolas"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- 其他元数据 -->
                <ui:TextBlock Text="其他信息" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"/>
                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" CornerRadius="4" Padding="12">
                    <StackPanel>
                        <StackPanel Margin="0,0,0,12">
                            <ui:TextBlock Text="ID" Appearance="Secondary" FontSize="12" Margin="0,0,0,4"/>
                            <ui:TextBox Text="{Binding Id}" IsTextSelectionEnabled="True" Background="Transparent" FontFamily="Consolas"/>
                        </StackPanel>
                        <StackPanel Margin="0,0,0,12">
                            <ui:TextBlock Text="Web URL" Appearance="Secondary" FontSize="12" Margin="0,0,0,4"/>
                            <ui:HyperlinkButton Content="{Binding WebUrl}" IsEnabled="{Binding IsWebUrlEnabled}" HorizontalAlignment="Left" Padding="0" Click="WebUrlButton_Click"/>
                        </StackPanel>
                        <StackPanel>
                            <ui:TextBlock Text="创建者" Appearance="Secondary" FontSize="12" Margin="0,0,0,4"/>
                            <ui:TextBox Text="{Binding CreatedBy}" IsTextSelectionEnabled="True" Background="Transparent"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ui:DynamicScrollViewer>
    </Grid>
</ui:FluentWindow>
